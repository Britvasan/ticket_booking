{% extends "templates/web.html" %}

{% block page_content %}
<h2 class="text-2xl font-bold mb-4">Now Showing</h2>

{% if movies %}
<div class="flex flex-wrap gap-6">
  {% for mv in movies %}
  <div class="border rounded-lg shadow p-3 w-48 overflow-hidden">
    <img src="{{ mv.poster or '/assets/frappe/images/file_placeholder.svg' }}" class="w-full h-64 rounded-t-lg">
    <div class="p-2">
      <h3 class="font-semibold text-sm truncate">{{ mv.movie_name }}</h3>
      <p class="text-xs text-gray-600">{{ mv.genre }} | {{ mv.language }}</p>
      <p class="text-xs mb-2">Duration: {{ mv.duration_minutes }} min</p>
      {% if mv.showtimes %}
      <a href="/book/{{ mv.showtimes[0].name }}" class="btn btn-primary w-full">
        Book Tickets
      </a>
      {% else %}
      <span class="text-xs">No shows</span>
      {% endif %}
    </div>
  </div>
  {% endfor %}
</div>
{% else %}
<p>No movies available.</p>
{% endif %}
{% endblock %}
